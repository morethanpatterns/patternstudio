<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Pattern Studio</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' ry='12' fill='%232563eb'/%3E%3Ctext x='50%' y='58%' text-anchor='middle' font-size='36' font-family='Arial, sans-serif' fill='white'%3EP%3C/text%3E%3C/svg%3E">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="app-shell">
    <section class="controls">
      <div class="pattern-picker">
        <label>Digital Patternmaking Drafts
          <select id="patternSelect">
            <option value="armstrong" selected>Armstrong's Bodice</option>
            <option value="aldrich">Aldrich's Close Fitting Bodice</option>
            <option value="hofenbitzerCasual">Hofenbitzer's Casual Bodice</option>
            <option value="hofenbitzerBasicSkirt">Hofenbitzer's Basic Skirt</option>
            <option value="hofenbitzerWideSleeve">Hofenbitzer's Wide Basic Sleeve</option>
            <optgroup label="Almost Ready">
              <option value="hofenbitzer-trouser" disabled>Hofenbitzer's Standard Trouser (Coming Soon)</option>
              <option value="hofenbitzer-contoured-bodice" disabled>Hofenbitzer's Contoured Bodice (Coming Soon)</option>
            </optgroup>
            <optgroup label="Next In Line">
              <option value="kim-skirt-sloper" disabled>Kim's Skirt Sloper (Next Up)</option>
              <option value="kim-bodice-sloper" disabled>Kim's Bodice Sloper (Next Up)</option>
            </optgroup>
          </select>
        </label>
      </div>
      <div id="armstrongControls" class="pattern-section">
        <h1>Armstrong's Bodice <span class="beta-tag">Beta</span></h1>
        <p class="hint">All measurements are in inches. Defaults reference the size 12 block from <a href="https://archive.org/details/patternmakingfor0000jose_f0p5" target="_blank" rel="noopener">Armstrong's book</a> - please have it handy when entering your own measurements. Convert fractional values (1/2, 1/8, etc.) to decimals before entering them.</p>
        <p class="note">Need help or want to request a draft? Join the <a href="https://discord.gg/CFvfXfZUTa" target="_blank" rel="noopener">Discord community</a>.</p>

        <div class="form-grid">
          <label>Front Full Length
            <input id="fullLength" type="number" value="18" step="0.0625">
          </label>
          <label>Front Across Shoulder
            <input id="acrossShoulder" type="number" value="7.9375" step="0.0625">
          </label>
          <label>Front Centre Length
            <input id="centreFrontLength" type="number" value="14.875" step="0.0625">
          </label>
          <label>Front Bust Arc
            <input id="bustArc" type="number" value="10.375" step="0.0625">
          </label>
          <label>Front Shoulder Slope
            <input id="shoulderSlope" type="number" value="18.125" step="0.0625">
          </label>
          <label>Front Bust Depth
            <input id="bustDepth" type="number" value="9.6875" step="0.0625">
          </label>
          <label>Front Shoulder Length
            <input id="shoulderLength" type="number" value="5.375" step="0.0625">
          </label>
          <label>Bust Span
            <input id="bustSpan" type="number" value="4.0625" step="0.0625">
          </label>
          <label>Across Chest
            <input id="acrossChest" type="number" value="6.9375" step="0.0625">
          </label>
          <label>Dart Placement
            <input id="dartPlacement" type="number" value="3.4375" step="0.0625">
          </label>
          <label>New Strap
            <input id="newStrap" type="number" value="18.1875" step="0.0625">
          </label>
          <label>Front Side Length
            <input id="sideLength" type="number" value="8.5" step="0.0625">
          </label>
          <label>Front Waist Arc
            <input id="waistArc" type="number" value="7.375" step="0.0625">
          </label>
          <label>Bust Cup
            <select id="bustCup">
              <option value="A Cup">A Cup</option>
              <option value="B Cup" selected>B Cup</option>
              <option value="C Cup">C Cup</option>
              <option value="D Cup">D Cup</option>
            </select>
          </label>

          <label>Back Full Length
            <input id="fullLengthBack" type="number" value="17.875" step="0.0625">
          </label>
          <label>Back Across Shoulder
            <input id="acrossShoulderBack" type="number" value="8.1875" step="0.0625">
          </label>
          <label>Back Centre Length
            <input id="centreFrontLengthBack" type="number" value="17" step="0.0625">
          </label>
          <label>Back Arc
            <input id="bustArcBack" type="number" value="9" step="0.0625">
          </label>
          <label>Back Shoulder Slope
            <input id="shoulderSlopeBack" type="number" value="17.375" step="0.0625">
          </label>
          <label>Back Shoulder Length
            <input id="shoulderLengthBack" type="number" value="5.375" step="0.0625">
          </label>
          <label>Across Back
            <input id="acrossChestBack" type="number" value="7.1875" step="0.0625">
          </label>
          <label>Back Side Length
            <input id="sideLengthBack" type="number" value="8.5" step="0.0625">
          </label>
          <label>Back Waist Arc
            <input id="waistArcBack" type="number" value="7" step="0.0625">
          </label>
          <label>Back Neck
            <input id="backNeck" type="number" value="3.125" step="0.0625">
          </label>
        </div>

        <div class="actions">
          <button id="download" type="button">Download Current (SVG)</button>
          <button id="downloadAllArmstrong" type="button">Download All (SVG)</button>
        </div>

        <div class="actions secondary">
          <button id="duplicateDraftArmstrong" type="button" class="link-button secondary">Duplicate Draft</button>
          <button id="manageLayersArmstrong" type="button" class="link-button secondary">Manage Layers</button>
          <button id="share" type="button" class="link-button">Share Link</button>
          <a class="link-button secondary" href="mailto:morethanpatterns@yahoo.com?subject=Patternhub%20Feedback" rel="noopener">Feedback</a>
        </div>

        <div class="toggles">
          <label><input id="showGuides" type="checkbox" checked>Show Construction Lines</label>
          <label><input id="showMarkers" type="checkbox" checked>Show Markers and Numbers</label>
        </div>

        <section class="draft-panel" id="draftPanelArmstrong" aria-label="Saved drafts">
          <header class="draft-panel__header">
            <h3>Draft Versions</h3>
            <p>Duplicate to compare variations side-by-side.</p>
          </header>
          <div id="draftListArmstrong" class="draft-panel__list">
            <p class="draft-panel__empty">No duplicates yet.</p>
          </div>
        </section>
      </div>

      <div id="aldrichControls" class="pattern-section" hidden>
        <h1>Aldrich's Close Fitting Bodice <span class="beta-tag">Beta</span></h1>
        <p class="hint">All measurements are in centimetres. Defaults reference the size 12 block from <a href="https://search.worldcat.org/title/900783726" target="_blank" rel="noopener">Aldrich's book</a> - please have it handy when entering your own measurements.</p>
        <p class="note">Need help or want to request a draft? Join the <a href="https://discord.gg/CFvfXfZUTa" target="_blank" rel="noopener">Discord community</a>.</p>

        <div class="form-grid">
          <label>Bust
            <input id="aldrichBust" type="number" value="88" step="0.1">
          </label>
          <label>Bust Ease
            <input id="aldrichBustEase" type="number" value="5" step="0.1">
          </label>
          <label>Waist
            <input id="aldrichWaist" type="number" value="68" step="0.1">
          </label>
          <label>Waist Ease
            <input id="aldrichWaistEase" type="number" value="3" step="0.1">
          </label>
          <label>Hip
            <input id="aldrichHip" type="number" value="94" step="0.1">
          </label>
          <label>Waist to Hip
            <input id="aldrichWaistToHip" type="number" value="20.6" step="0.1">
          </label>
          <label>Nape to Waist
            <input id="aldrichNapeToWaist" type="number" value="41" step="0.1">
          </label>
          <label>Shoulder
            <input id="aldrichShoulder" type="number" value="12.25" step="0.1">
          </label>
          <label>Back Width
            <input id="aldrichBackWidth" type="number" value="34.4" step="0.1">
          </label>
          <label>Chest
            <input id="aldrichChest" type="number" value="32.4" step="0.1">
          </label>
          <label>Armscye Depth
            <input id="aldrichArmscyeDepth" type="number" value="21" step="0.1">
          </label>
          <label>Neck Size
            <input id="aldrichNeckSize" type="number" value="37" step="0.1">
          </label>
        </div>

        <div class="form-grid">
          <label>Front Neck Dart
            <input id="aldrichFrontNeckDart" type="number" value="7" step="0.1">
          </label>
          <label>Front Waist Dart
            <input id="aldrichFrontWaistDart" type="number" value="4.5" step="0.1">
          </label>
          <label>Back Waist Dart
            <input id="aldrichBackWaistDart" type="number" value="3.5" step="0.1">
          </label>
          <label>Front Side Waist Dart
            <input id="aldrichFrontSideWaistDart" type="number" value="0" step="0.1">
          </label>
          <label>Back Side Waist Dart
            <input id="aldrichBackSideWaistDart" type="number" value="0" step="0.1">
          </label>
          <label>Dart Apex Offset
            <input id="aldrichFrontWaistDartBackOff" type="number" value="2.5" step="0.1">
          </label>
          <label>Bust-Waist Difference
            <input id="aldrichBustWaistDiff" type="number" value="12" step="0.1">
          </label>
        </div>

        <div class="toggles inline">
          <label><input id="aldrichCloseWaist" type="checkbox" checked>Close Waist Shaping</label>
          <label><input id="aldrichReducedDarting" type="checkbox">Reduced Darting (75%)</label>
        </div>

        <div class="actions">
          <button id="downloadAldrich" type="button">Download Current (SVG)</button>
          <button id="downloadAllAldrich" type="button">Download All (SVG)</button>
        </div>

        <div class="actions secondary">
          <button id="duplicateDraftAldrich" type="button" class="link-button secondary">Duplicate Draft</button>
          <button id="manageLayersAldrich" type="button" class="link-button secondary">Manage Layers</button>
          <button id="shareAldrich" type="button" class="link-button">Share Link</button>
          <a class="link-button secondary" href="mailto:morethanpatterns@yahoo.com?subject=PatternKit%20Feedback" rel="noopener">Feedback</a>
        </div>

        <div class="toggles">
          <label><input id="aldrichShowGuides" type="checkbox" checked>Show Construction Lines</label>
          <label><input id="aldrichShowMarkers" type="checkbox" checked>Show Markers and Numbers</label>
        </div>

        <section class="draft-panel" id="draftPanelAldrich" aria-label="Saved drafts">
          <header class="draft-panel__header">
            <h3>Draft Versions</h3>
            <p>Duplicate to compare variations side-by-side.</p>
          </header>
          <div id="draftListAldrich" class="draft-panel__list">
            <p class="draft-panel__empty">No duplicates yet.</p>
          </div>
        </section>
      </div>

      <div id="hofenbitzerControls" class="pattern-section" hidden>
        <h1>Hofenbitzer's Casual Bodice <span class="beta-tag">Beta</span></h1>
        <p class="hint">All measurements are in centimetres. Defaults reference the size 38 block from <a href="https://www.europa-lehrmittel.de/Patternmaking-for-Fashion-1/63670-1" target="_blank" rel="noopener">Hofenbitzer's book</a> – please have it handy when entering your own measurements.</p>
        <p class="note">Need help or want to request a draft? Join the <a href="https://discord.gg/CFvfXfZUTa" target="_blank" rel="noopener">Discord community</a>.</p>

        <div class="hof-card">
          <div class="hof-fit-control">
            <h2 class="hof-card-subtitle">Fit Profile</h2>
            <label class="visually-hidden" for="hofenbitzerFitProfile">Fit Profile</label>
            <div class="hof-fit-control__select">
              <select id="hofenbitzerFitProfile">
                <option value="0">Fit 0</option>
                <option value="1">Fit 1</option>
                <option value="2">Fit 2</option>
                <option value="3" selected>Fit 3</option>
                <option value="4">Fit 4</option>
                <option value="5">Fit 5</option>
                <option value="6">Fit 6</option>
              </select>
            </div>
          </div>
          <h2>Measurements</h2>
          <div id="hofenbitzerPrimaryMeasurements" class="hofenbitzer-measure-grid"></div>
          <div id="hofenbitzerSecondaryMeasurements" class="hofenbitzer-measure-grid secondary"></div>

        </div>

        <div class="toggles">
          <label><input id="hofenbitzerShowGuides" type="checkbox" checked>Show Construction Lines</label>
          <label><input id="hofenbitzerShowMarkers" type="checkbox" checked>Show Markers and Numbers</label>
        </div>

        <div class="actions">
          <button id="downloadHofenbitzer" type="button">Download Current (SVG)</button>
          <button id="downloadAllHofenbitzer" type="button">Download All (SVG)</button>
        </div>

        <div class="actions secondary">
          <button id="duplicateDraftHofenbitzer" type="button" class="link-button secondary">Duplicate Draft</button>
          <button id="manageLayersHofenbitzer" type="button" class="link-button secondary">Manage Layers</button>
          <button id="shareHofenbitzer" type="button" class="link-button">Share Link</button>
          <a class="link-button secondary" href="mailto:morethanpatterns@yahoo.com?subject=PatternKit%20Feedback" rel="noopener">Feedback</a>
        </div>

        <section class="draft-panel" id="draftPanelHofenbitzer" aria-label="Saved drafts">
          <header class="draft-panel__header">
            <h3>Draft Versions</h3>
            <p>Duplicate to compare variations side-by-side.</p>
          </header>
          <div id="draftListHofenbitzer" class="draft-panel__list">
            <p class="draft-panel__empty">No duplicates yet.</p>
          </div>
        </section>
      </div>

      <div id="hofenbitzerSleeveControls" class="pattern-section" hidden>
        <h1>Hofenbitzer's Wide Basic Sleeve <span class="beta-tag">Beta</span></h1>
        <p class="hint">All measurements are in centimetres. Defaults reference the size 38 sleeve block from Hofenbitzer's book – please have it handy when entering your own measurements.</p>
        <p class="note">Need help or want to request a draft? Join the <a href="https://discord.gg/CFvfXfZUTa" target="_blank" rel="noopener">Discord community</a>.</p>

        <div class="hof-card">
          <h2>Measurements</h2>
          <div id="hofSleeveMeasurements" class="hofenbitzer-measure-grid"></div>
          <div class="derived-panel" id="hofSleeveDerivedPanel">
            <div class="derived-field">
              <span class="derived-label">Cap Line</span>
              <span class="derived-value" id="hofSleeveDerivedCapLine">-- cm</span>
            </div>
            <div class="derived-field">
              <span class="derived-label">Sleeve Width</span>
              <span class="derived-value" id="hofSleeveDerivedWidth">-- cm</span>
            </div>
            <div class="derived-field">
              <span class="derived-label">Elbow Width</span>
              <span class="derived-value" id="hofSleeveDerivedElbow">-- cm</span>
            </div>
            <div class="derived-field">
              <span class="derived-label">Sleeve Cap</span>
              <span class="derived-value" id="hofSleeveDerivedCap">-- cm</span>
            </div>
          </div>
        </div>

        <div class="toggles">
          <label><input id="hofSleeveShowGuides" type="checkbox" checked>Show Construction Lines</label>
          <label><input id="hofSleeveShowMarkers" type="checkbox" checked>Show Markers and Numbers</label>
        </div>

        <div class="actions">
          <button id="downloadHofenbitzerSleeve" type="button">Download Current (SVG)</button>
          <button id="downloadAllHofenbitzerSleeve" type="button">Download All (SVG)</button>
        </div>

        <div class="actions secondary">
          <button id="duplicateDraftHofenbitzerSleeve" type="button" class="link-button secondary">Duplicate Draft</button>
          <button id="manageLayersHofenbitzerSleeve" type="button" class="link-button secondary">Manage Layers</button>
          <button id="shareHofenbitzerSleeve" type="button" class="link-button">Share Link</button>
          <a class="link-button secondary" href="mailto:morethanpatterns@yahoo.com?subject=PatternKit%20Feedback" rel="noopener">Feedback</a>
        </div>

        <section class="draft-panel" id="draftPanelHofenbitzerSleeve" aria-label="Saved drafts">
          <header class="draft-panel__header">
            <h3>Draft Versions</h3>
            <p>Duplicate to compare variations side-by-side.</p>
          </header>
          <div id="draftListHofenbitzerSleeve" class="draft-panel__list">
            <p class="draft-panel__empty">No duplicates yet.</p>
          </div>
        </section>
      </div>

      <div id="hofenbitzerSkirtControls" class="pattern-section" hidden>
        <h1>Hofenbitzer's Basic Skirt <span class="beta-tag">Beta</span></h1>
        <p class="hint">All measurements are in centimetres. Defaults reference the size 38 block from <a href="https://www.europa-lehrmittel.de/Patternmaking-for-Fashion-1/63670-1" target="_blank" rel="noopener">Hofenbitzer's book</a> – please have it handy when entering your own measurements.</p>
        <p class="note">Need help or want to request a draft? Join the <a href="https://discord.gg/CFvfXfZUTa" target="_blank" rel="noopener">Discord community</a>.</p>

        <div class="hof-card">
          <h2>Measurements</h2>
          <div class="form-grid">
            <label>HiC
              <input id="hofSkirtHiC" type="number" value="97" step="0.1">
            </label>
            <label>WaC
              <input id="hofSkirtWaC" type="number" value="72" step="0.1">
            </label>
            <label>HiD
              <input id="hofSkirtHiD" type="number" value="21" step="0.1">
            </label>
            <label>MoL
              <input id="hofSkirtMoL" type="number" value="50" step="0.1">
            </label>
            <label>Hip Ease
              <input id="hofSkirtHipEase" type="number" value="3" step="0.1">
            </label>
            <label>Waist Ease
              <input id="hofSkirtWaistEase" type="number" value="2" step="0.1">
            </label>
            <label>Hip Profile
              <select id="hofSkirtHipProfile">
                <option value="Flat">Flat</option>
                <option value="Normal" selected>Normal</option>
                <option value="Curvy">Curvy</option>
              </select>
            </label>
          </div>

          <h2>Darts</h2>
          <p class="hint skirt-hint">Dart widths auto-update from your measurements. Editing any value removes the autocalculation until you reset the distribution.</p>
          <div class="form-grid">
            <label>Length of Front Dart
              <input id="hofSkirtFrontDartLength" type="number" value="10" step="0.1" min="0">
            </label>
            <label>Length of 1st Back Dart
              <input id="hofSkirtBackDartLength1" type="number" value="14.5" step="0.1" min="0">
            </label>
            <label>Length of 2nd Back Dart
              <input id="hofSkirtBackDartLength2" type="number" value="13" step="0.1" min="0">
            </label>
            <label>Side Dart
              <input id="hofSkirtSideDart" type="number" value="0" step="0.1" min="0">
            </label>
            <label>Front Dart
              <input id="hofSkirtFrontDart" type="number" value="0" step="0.1" min="0">
            </label>
            <label>1st Back Dart
              <input id="hofSkirtBackDart1" type="number" value="0" step="0.1" min="0">
            </label>
            <label>2nd Back Dart
              <input id="hofSkirtBackDart2" type="number" value="0" step="0.1" min="0">
            </label>
          </div>
          <button id="hofSkirtResetDarts" type="button" class="link-button secondary derived-reset">Reset Darts to Autocalculate</button>
        </div>

        <div class="derived-panel" id="hofSkirtDerivedPanel">
          <div class="derived-field">
            <span class="derived-label">HiW</span>
            <span class="derived-value" id="hofSkirtDerivedHiW">48.50 cm</span>
          </div>
          <div class="derived-field">
            <span class="derived-label">WaW</span>
            <span class="derived-value" id="hofSkirtDerivedWaW">36.00 cm</span>
          </div>
          <div class="derived-field">
            <span class="derived-label">Waist Difference Target</span>
            <span class="derived-value" id="hofSkirtDerivedWaistDiff">12.50 cm</span>
          </div>
          <div class="derived-field">
            <span class="derived-label">Total Dart Intake</span>
            <span class="derived-value" id="hofSkirtDerivedDartSum">12.50 cm</span>
          </div>
        </div>
        <div class="visually-hidden" aria-hidden="true">
          <input type="hidden" id="hofSkirtSideDartOverride" value="false">
          <input type="hidden" id="hofSkirtFrontDartOverride" value="false">
          <input type="hidden" id="hofSkirtBackDart1Override" value="false">
          <input type="hidden" id="hofSkirtBackDart2Override" value="false">
        </div>

        <div class="toggles">
          <label><input id="hofSkirtShowGuides" type="checkbox" checked>Show Construction Lines</label>
          <label><input id="hofSkirtShowMarkers" type="checkbox" checked>Show Markers and Numbers</label>
        </div>

        <div class="actions">
          <button id="downloadHofenbitzerSkirt" type="button">Download Current (SVG)</button>
          <button id="downloadAllHofenbitzerSkirt" type="button">Download All (SVG)</button>
        </div>

        <div class="actions secondary">
          <button id="duplicateDraftHofenbitzerSkirt" type="button" class="link-button secondary">Duplicate Draft</button>
          <button id="manageLayersHofenbitzerSkirt" type="button" class="link-button secondary">Manage Layers</button>
          <button id="shareHofenbitzerSkirt" type="button" class="link-button">Share Link</button>
          <a class="link-button secondary" href="mailto:morethanpatterns@yahoo.com?subject=PatternKit%20Feedback" rel="noopener">Feedback</a>
        </div>

        <section class="draft-panel" id="draftPanelHofenbitzerSkirt" aria-label="Saved drafts">
          <header class="draft-panel__header">
            <h3>Draft Versions</h3>
            <p>Duplicate to compare variations side-by-side.</p>
          </header>
          <div id="draftListHofenbitzerSkirt" class="draft-panel__list">
            <p class="draft-panel__empty">No duplicates yet.</p>
          </div>
        </section>
      </div>

      <div id="patternPlaceholder" class="pattern-placeholder" hidden>
        <p>Select a draft to begin. Additional patterns are on the way.</p>
      </div>
    </section>
    <section class="preview-pane">
      <div id="preview">
        <div id="previewViewport"></div>
      </div>
    </section>
  </main>
  <div id="layerToolsModal" class="layer-modal" hidden aria-hidden="true">
    <div class="layer-modal__panel" role="dialog" aria-labelledby="layerModalTitle">
      <header class="layer-modal__header">
        <h2 id="layerModalTitle">Layers</h2>
        <button id="closeLayerModal" type="button" class="layer-modal__close" aria-label="Close layer manager">&times;</button>
      </header>
      <p class="layer-modal__hint">Toggle visibility or create duplicates before exporting.</p>
      <div id="layerList" class="layer-list">
        <p class="layer-list__empty">Generate a draft to manage layers.</p>
      </div>
      <footer class="layer-modal__footer">
        <button id="exportVisibleLayers" type="button">Export Visible SVG</button>
      </footer>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
